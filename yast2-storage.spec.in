@HEADER-COMMENT@


@HEADER@
BuildRequires:	boost-devel blocxx-devel evms gcc-c++ libxcrypt-devel openssl-devel sablot swig yast2-installation docbook-xsl-stylesheets doxygen libxslt perl-XML-Writer sgml-skel update-desktop-files yast2 yast2-core-devel yast2-devtools yast2-testsuite yast2-perl-bindings
Requires:	yast2 parted yast2-installation yast2-storage-lib yast2-perl-bindings
%ifarch s390 s390x
Requires:	yast2-s390
%endif
Provides:	y2a_fdsk yast2-config-disk
Obsoletes:	y2a_fdsk yast2-config-disk
Provides:	yast2-agent-fdisk yast2-agent-fdisk-devel
Obsoletes:	yast2-agent-fdisk yast2-agent-fdisk-devel
Provides:	yast2-trans-inst-partitioning
Obsoletes:	yast2-trans-inst-partitioning
Provides:       y2t_inst-partitioning
Obsoletes:      y2t_inst-partitioning

Summary:	Handling of disk storage related things in YaST2

%description
This package is a part of YaST2. It contains the necessary scripts to
configure disk storage.

@PREP@

@BUILD@

@INSTALL@

@CLEAN@

%files
%defattr(-,root,root)

# storage
%dir @yncludedir@/partitioning
@yncludedir@/partitioning/*.ycp
%dir @yncludedir@/storage
@yncludedir@/storage/*.ycp
@clientdir@/inst_custom_part.ycp
@clientdir@/inst_lvm_lv.ycp
@clientdir@/inst_resize_ui.ycp
@clientdir@/inst_disk.ycp
@clientdir@/inst_lvm_pv.ycp
@clientdir@/inst_target_part.ycp
@clientdir@/inst_do_resize.ycp
@clientdir@/inst_part_proposal.ycp
@clientdir@/inst_target_selection.ycp
@clientdir@/inst_prepdisk.ycp
@clientdir@/storage_finish.ycp
@clientdir@/partitions_proposal.ycp
@clientdir@/controller.ycp
@clientdir@/disk.ycp
@clientdir@/lvm_config.ycp
@clientdir@/lvm_config_ui.ycp
@clientdir@/create_udev_cdrom.ycp
@moduledir@/*

%dir @ydatadir@
@ydatadir@/*.ycp

%doc %dir @docdir@
%doc @docdir@/README*
%doc @docdir@/COPY*
%doc @docdir@/autodocs

# agents-scr
@scrconfdir@/*.scr

# libstorage ycp callbacks
@plugindir@/libpy2StorageCallbacks.so.*
@plugindir@/libpy2StorageCallbacks.so
@plugindir@/libpy2StorageCallbacks.la

# disk
%dir @desktopdir@
@desktopdir@/disk.desktop
@desktopdir@/lvm_config.desktop
%ifnarch s390 s390x
@desktopdir@/controller.desktop
%endif

# scripts
@ybindir@/check.boot
@ybindir@/create_udev_cdrom_rules
/usr/sbin/create_udev_cdrom_rules

# perl bindings of libstorage
%{perl_vendorarch}/LibStorage.so

%package evms
Requires:       yast2-storage = %version
Summary:        -
Group:          System/YaST

%description evms
This package contains the files that handle EVMS configuration within
YaST2.


%files evms
%defattr(-,root,root)
@ybindir@/evms_access
@clientdir@/inst_evms.ycp

%package lib
Requires:       blocxx
Summary:        -
Group:          System/YaST

%description lib
This package contains the library used by YaST2 to access disk devices
during installation and on an installed system.


%files lib
%defattr(-,root,root)
%{_libdir}/liby2storage.so*

%package devel
Requires:       blocxx-devel libstdc++-devel
Summary:        -
Group:          System/YaST

%description devel
This package contains the files for YaST2 that are needed of one wants
to develop a program using libstorage.


%files devel
%defattr(-,root,root)
%{_libdir}/liby2storage.la
@includedir@
%doc @docdir@/examples
%doc @docdir@/libstorage
%doc @docdir@/config.xml.description
